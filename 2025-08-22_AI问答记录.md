# PowerShell执行策略问题解决

## 文件信息
- **创建时间**: 2025-08-22
- **修改时间**: 2025-08-22
- **文件类型**: AI问答记录
- **状态**: 已完成

## 问题描述
用户遇到PowerShell执行策略错误：
```
gemini : 无法加载文件 C:\Users\odoka\AppData\Roaming\npm\gemini.ps1，因为在此系统上禁止运行脚本。有关详细信息，请参阅 https:/go.microsoft.com/fwlink/?LinkID=135170 中的 about_Execution_Policies。
```

## 问题分析
这是Windows PowerShell的安全机制，执行策略设置为`Restricted`，禁止运行所有脚本文件。

## 解决方案

### 1. 临时更改执行策略（推荐）
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### 2. 永久更改执行策略
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope LocalMachine
```

### 3. 绕过执行策略运行
```powershell
powershell -ExecutionPolicy Bypass -File "C:\Users\odoka\AppData\Roaming\npm\gemini.ps1"
```

## 执行策略说明
- `Restricted`: 默认策略，禁止运行所有脚本
- `RemoteSigned`: 允许本地脚本，远程脚本需数字签名
- `Unrestricted`: 允许所有脚本（不推荐）

## 建议
使用`RemoteSigned`策略，既安全又能运行本地脚本。更改后重新运行`gemini`命令即可。

## 注意事项
- 更改执行策略可能需要管理员权限
- 建议使用`RemoteSigned`而非`Unrestricted`
- 更改后需要重新打开PowerShell窗口
